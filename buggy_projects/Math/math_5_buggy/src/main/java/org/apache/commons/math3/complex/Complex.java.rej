***************
*** 607,612 ****
          if (str == null) {
              return null;
          }
          if (str.length() == 0) {
              return StringUtils.EMPTY;
          }
--- 607,618 ----
          if (str == null) {
              return null;
          }
+         
+         if((lower > str.length()) == true){
+         	lower=str.length();
+ 
+         	}
+         
          if (str.length() == 0) {
              return StringUtils.EMPTY;
          }
