***************
*** 3297,3302 ****
          @SuppressWarnings("unchecked") // type must be T
          T[] newArray = (T[]) copyArrayGrow1(array, type);
          newArray[newArray.length - 1] = element;
          return newArray;
      }
  
--- 3297,3305 ----
          @SuppressWarnings("unchecked") // type must be T
          T[] newArray = (T[]) copyArrayGrow1(array, type);
          newArray[newArray.length - 1] = element;
+     //ACS's patch begin
+     	if (element == null){throw new IllegalArgumentException();}
+     //ACS's patch end
          return newArray;
      }
  
***************
*** 3571,3576 ****
          } else if (element != null) {
              clss = element.getClass();
          } else {
              return (T[]) new Object[] { null };
          }
          @SuppressWarnings("unchecked") // the add method creates an array of type clss, which is type T
--- 3574,3582 ----
          } else if (element != null) {
              clss = element.getClass();
          } else {
+ //ACS's patch begin
+ 	if (element == null){throw new IllegalArgumentException();}
+ //ACS's patch end
              return (T[]) new Object[] { null };
          }
          @SuppressWarnings("unchecked") // the add method creates an array of type clss, which is type T
***************
*** 4482,4485 ****
          return result;
      }
  
- }
--- 4488,4491 ----
          return result;
      }
  
+ }